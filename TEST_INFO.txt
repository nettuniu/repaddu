# repaddu test map

This file maps code areas to the tests that must be run when those areas change.
Commands are run from the repository root using `--test-dir build` unless stated otherwise.

base (core types, language profiles, logging, redaction, tokens, tags, json)
- Files: include/repaddu/core_types.h, src/core_types.cpp, include/repaddu/language_profiles.h, src/language_profiles.cpp, include/repaddu/logger.h, src/logger.cpp, include/repaddu/pii_redactor.h, src/pii_redactor.cpp, include/repaddu/analysis_tokens.h, src/analysis_tokens.cpp, include/repaddu/analysis_tags.h, src/analysis_tags.cpp, include/repaddu/json_lite.h, src/json_lite.cpp
- Tests:
  - tests/test_logging.cpp (`ctest --test-dir build -R repaddu_test_logging --output-on-failure`)
  - tests/test_pii.cpp (`ctest --test-dir build -R repaddu_test_pii --output-on-failure`)
  - tests/test_tokens.cpp (`ctest --test-dir build -R repaddu_test_tokens --output-on-failure`)
  - tests/test_tags.cpp (`ctest --test-dir build -R repaddu_test_tags --output-on-failure`)
  - tests/test_language_profiles_detection.cpp (`ctest --test-dir build -R repaddu_test_language_profiles --output-on-failure`)

analysis (graph/views/lsp)
- Files: include/repaddu/analysis_graph.h, src/analysis_graph.cpp, include/repaddu/analysis_view.h, src/analysis_view.cpp, include/repaddu/analysis_lsp.h, src/analysis_lsp.cpp
- Tests:
  - tests/test_analysis_graph.cpp (`ctest --test-dir build -R repaddu_test_analysis_graph --output-on-failure`)
  - tests/test_analysis_views.cpp (`ctest --test-dir build -R repaddu_test_analysis_views --output-on-failure`)
  - tests/test_analysis_lsp.cpp (`ctest --test-dir build -R repaddu_test_analysis_lsp --output-on-failure`)
  - tests/test_lsp_client.cpp (`ctest --test-dir build -R repaddu_test_lsp_client --output-on-failure`)
  - tests/test_lsp_symbols.cpp (`ctest --test-dir build -R repaddu_test_lsp_symbols --output-on-failure`)
  - tests/test_lsp_relationships.cpp (`ctest --test-dir build -R repaddu_test_lsp_relationships --output-on-failure`)

io (traversal and binary detection)
- Files: include/repaddu/io_traversal.h, src/io_traversal.cpp, include/repaddu/io_binary.h, src/io_binary.cpp
- Tests:
  - tests/test_filtering.cpp (`ctest --test-dir build -R repaddu_test_filtering --output-on-failure`)
  - tests/test_isolate_docs.cpp (`ctest --test-dir build -R repaddu_test_isolate_docs --output-on-failure`)
  - tests/test_binary_detection.cpp (`ctest --test-dir build -R repaddu_test_binary --output-on-failure`)
  - tests/test_concurrency.cpp (`ctest --test-dir build -R repaddu_test_concurrency --output-on-failure`)

grouping (group strategy and component map)
- Files: include/repaddu/grouping_strategies.h, src/grouping_strategies.cpp, include/repaddu/grouping_component_map.h, src/grouping_component_map.cpp
- Tests:
  - tests/test_grouping.cpp (`ctest --test-dir build -R repaddu_test_grouping --output-on-failure`)
  - tests/test_filtering.cpp (`ctest --test-dir build -R repaddu_test_filtering --output-on-failure`)
  - tests/test_large_file.cpp (`ctest --test-dir build -R repaddu_test_large_file --output-on-failure`)
  - tests/test_cmake_aggregation.cpp (`ctest --test-dir build -R repaddu_test_cmake --output-on-failure`)

format (writers and reports)
- Files: include/repaddu/format_writer.h, src/format_writer.cpp, src/format_writer_read.cpp, src/format_writer_alt_formats.cpp, src/format_tree.cpp, include/repaddu/format_tree.h, include/repaddu/format_language_report.h, src/format_language_report.cpp, include/repaddu/format_analysis_report.h, src/format_analysis_report.cpp, include/repaddu/format_analysis_json.h, src/format_analysis_json.cpp, include/repaddu/format_analysis_tags.h, include/repaddu/format/analysis_tags_report.h, src/format/analysis_tags_report.cpp
- Tests:
  - tests/test_frontmatter_output.cpp (`ctest --test-dir build -R repaddu_test_frontmatter_output --output-on-failure`)
  - tests/test_analysis_json.cpp (`ctest --test-dir build -R repaddu_test_analysis_json --output-on-failure`)
  - tests/test_analysis_tags_report.cpp (`ctest --test-dir build -R repaddu_test_analysis_tags_report --output-on-failure`)

ui (interface and adapters)
- Files: include/repaddu/ui_interface.h, include/repaddu/ui_console.h, src/ui_console.cpp, include/repaddu/ui_plain.h, src/ui_plain.cpp
- Tests:
  - tests/test_ui.cpp (`ctest --test-dir build -R repaddu_test_ui --output-on-failure`)

cli/app/entrypoint (parse, bootstrap, run orchestration)
- Files: include/repaddu/cli_parse.h, include/repaddu/cli_bootstrap.h, src/cli_bootstrap.cpp, src/cli_parse.cpp, src/cli_parse_policy.h, src/cli_parse_policy.cpp, src/cli_parse_values.h, src/cli_parse_values.cpp, src/cli_parse_config.cpp, src/cli_parse_help.cpp, include/repaddu/cli_run.h, src/cli_run.cpp, include/repaddu/entrypoint_main.h, src/entrypoint_main.cpp, include/repaddu/app_run.h, src/app_run.cpp, include/repaddu/app_analyze.h, include/repaddu/app/app_analyze.h, src/app/app_analyze.cpp, include/repaddu/app/analysis_backend.h, src/app/analysis_backend_default.cpp, include/repaddu/app/effective_options.h, src/app/effective_options.cpp, include/repaddu/app/fs_services.h, src/app/fs_services.cpp, include/repaddu/config_generator.h, src/config_generator.cpp, src/main.cpp
- Tests:
  - tests/test_cli_parse_analysis.cpp (`ctest --test-dir build -R repaddu_test_cli_parse_analysis --output-on-failure`)
  - tests/test_config_analysis.cpp (`ctest --test-dir build -R repaddu_test_config_analysis --output-on-failure`)
  - tests/test_cli_config_path.cpp (`ctest --test-dir build -R repaddu_test_cli_config_path --output-on-failure`)
  - tests/test_dry_run.cpp (`ctest --test-dir build -R repaddu_test_dry_run --output-on-failure`)
  - tests/test_app_run.cpp (`ctest --test-dir build -R repaddu_test_app_run --output-on-failure`)
  - tests/test_analysis.cpp (`ctest --test-dir build -R repaddu_test_analysis --output-on-failure`)

clang-backed C++ analysis (optional component)
- Files: include/repaddu/analysis_cpp.h, src/analysis_cpp.cpp
- Tests:
  - tests/test_analysis_cpp.cpp (`ctest --test-dir build -R repaddu_test_analysis_cpp --output-on-failure`)
- Notes: requires configure/build with `-DREPADDU_ENABLE_CLANG=ON` and local LLVM/Clang dev packages.

fixture integrity
- Files: fixtures/picobench, tests/test_fixture_picobench.cpp
- Tests:
  - tests/test_fixture_picobench.cpp (`ctest --test-dir build -R repaddu_test_fixture_picobench --output-on-failure`)

architecture dependency policy
- Files: docs/architecture_layers.md, docs/error_handling_contract.md, docs/refactor_master_plan.md, tools/check_component_deps.sh, CMakeLists.txt, .github/workflows/ci.yml
- Tests:
  - dependency checker (`tools/check_component_deps.sh`)
  - dependency policy ctest (`ctest --test-dir build -R repaddu_test_dependency_policy --output-on-failure`)

performance guardrails
- Files: docs/perf_baseline.md, docs/perf_analysis_tags_baseline.sh, docs/perf_regression_guard.sh
- Tests:
  - baseline command set (`docs/perf_baseline.md`)

full test sweep
- Command: `ctest --test-dir build --output-on-failure`
